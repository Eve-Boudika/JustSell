<!DOCTYPE html>
<html lang="es">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Just Sell!</title>
	<link rel="shortcut icon" href="../images/IconJS.png">
	<!-- ------------------- CSS General(todos lo comparten) ------------------- -->
	<link rel="stylesheet" href="../layout.css">
	<!-- ---------------------- CSS propio de esta vista ----------------------- -->
	<link rel="stylesheet" href="cotizadorARG.css">

	<!-- -------------------------- Include Bootstrap -------------------------- -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<body>

	<div id="contenedor">
		<div class="menu">
			<!-- Menú principal-->
			<div class="cabecera">
				<!-- Datos y perfil de usuario-->
				<p id="intro"> Welcome! <a href="../index.html">JUST SELL</a> </p>
				<div><img src="../images/FotoAvatar.jpeg" alt="imagen del usuario" id="avatar"> </div>
				<div id="userName"> Evelyn Guzmán </div>
				<div id="userProfile"> Admin </div>

				<menu>
					<li><a href="..\contactos\contactos.html">Contactos</a></li>
					<li>Pipeline</li>
					<li><a href="">Cotizador ARG</a></li>
					<li>Facturas ARG</li>
					<li>Mail</li>
				</menu>
			</div>
		</div>
		<div class="body">
			<br  method="post">
				<ul>
					<li>
						<label for="Plan">Selecciona un plan:</label><br>
						<input type="button" id="planStarter" name="STARTER" value="STARTER" onclick="ClicPlanButton(this.value)">
						<input type="button" id="planPremium" name="PREMIUM" value="PREMIUM" onclick="ClicPlanButton(this.value)">
						<input type="button" id="planCorporate" name="CORPORATE" value="CORPORATE" onclick="ClicPlanButton(this.value)">
						<input type="hidden" value="PREMIUM" id="hiddenPlan">
					</li>
					<li>
						<label for="Contactos">Selecciona cantidad de contactos</label><br>
						<input type="range" id="cantidadDeContactos" name="cantidadDeContactos" min="200" max="1000" step="200" value="200" onChange="contadorDeContactos()">
						<h2 id="resultRango"></h2> 
					</li>
					<li>
						<label for="Cotización">$USD Cotización:</label><br>
						<input type="number" id="valorCotizacion" name="$USD Cotización" min="1" max="100000" value="1">
					</li>
				</ul>

				<input type="button" id="buttonCalcular" name="Calcular" value="Calcular" onclick="calcularTotal()" style="margin: 10px 0px 10px 20px;">
				
				<div class="contenedorResultados">
					<div id="Trimestral" class="periodo">
						<h2>Trimestral: </h2><span id="trimestreResult"> ---- </span>
					</div>
					<div id="Semestral" class="periodo">
						<h2>Semestral: </h2><span id="semestralResult"> ---- </span>
					</div>
					<div id="Anual" class="periodo">
						<h2>Anual: </h2><span id="anualResult"> ---- </span>
					</div>
				</div>
			</form>
		</div>
	</div>

	<script>

		function ClicPlanButton(value){

			let valueMinuscula = value.toLowerCase();



			document.getElementById("hiddenPlan").value = valueMinuscula;


			if(valueMinuscula  === "STARTER".toLowerCase() ){
				document.getElementById("trimestreResult").innerHTML = " ---- ";
				document.getElementById("semestralResult").innerHTML = " ---- ";
				document.getElementById("anualResult").innerHTML = " ---- ";

				document.getElementById("planStarter").style.color = "red";
				document.getElementById("planPremium").style.color = "black";
				document.getElementById("planCorporate").style.color = "black";


				document.getElementById("cantidadDeContactos").removeAttribute("disabled", '');
				document.getElementById("buttonCalcular").removeAttribute("disabled", '');


				document.getElementById("cantidadDeContactos").setAttribute("min", 50);
				document.getElementById("cantidadDeContactos").setAttribute("max", 200);
				document.getElementById("cantidadDeContactos").setAttribute("step", 50);
				document.getElementById("cantidadDeContactos").setAttribute("value", 50);


				document.getElementById("resultRango").innerHTML = 50;


			}else if(valueMinuscula  === "PREMIUM".toLowerCase() ){
				document.getElementById("trimestreResult").innerHTML = " ---- ";
				document.getElementById("semestralResult").innerHTML = " ---- ";
				document.getElementById("anualResult").innerHTML = " ---- ";

				document.getElementById("planPremium").style.color = "red";
				document.getElementById("planStarter").style.color = "black";
				document.getElementById("planCorporate").style.color = "black";

				document.getElementById("cantidadDeContactos").removeAttribute("disabled", '');
				document.getElementById("buttonCalcular").removeAttribute("disabled", '');


				document.getElementById("cantidadDeContactos").setAttribute("min", 200);
				document.getElementById("cantidadDeContactos").setAttribute("max", 1000);
				document.getElementById("cantidadDeContactos").setAttribute("step", 200);
				document.getElementById("cantidadDeContactos").setAttribute("value", 200);


				document.getElementById("resultRango").innerHTML = 200;

			}else{
				document.getElementById("trimestreResult").innerHTML = " ---- ";
				document.getElementById("semestralResult").innerHTML = " ---- ";
				document.getElementById("anualResult").innerHTML = " ---- ";

				document.getElementById("planCorporate").style.color = "red";
				document.getElementById("planPremium").style.color = "black";
				document.getElementById("planStarter").style.color = "black";


				document.getElementById("cantidadDeContactos").setAttribute("disabled", '');
				document.getElementById("buttonCalcular").setAttribute("disabled", '');


				document.getElementById("resultRango").innerHTML = "----";
			}

		}
		
		function calcularTotal(){
			
			let starterPrice = { 
								50 : 24 , 
								100 : 39 , 
								150 : 56 ,
								200 : 75 ,
           					};

			let premiumPrice = { 
								200 : 90 , 
								400 : 130 , 
								600 : 170 , 
								800 : 210 , 
								1000 : 250,
           					};



			//paso1 : traermos la cantidad de contactos
			let cantidadDeContactos = document.getElementById("cantidadDeContactos").value; //Valor del rango actual

			let planSeleccionado = document.getElementById("hiddenPlan").value;

			let precioPorContactos = 0;

			if(planSeleccionado === "starter"){
				 precioPorContactos = starterPrice[cantidadDeContactos];
			}else{
				 precioPorContactos = premiumPrice[cantidadDeContactos];
			}


			//paso2 : traermos el valor de la cotización
			let cotizacionDolar = document.getElementById("valorCotizacion").value; //Valor del rango actual
			//paso3 : calcular valores trimestral, semestral, anual
			let trimestral = (precioPorContactos * cotizacionDolar) * 3;
			let semestral = (precioPorContactos * cotizacionDolar) * 6;
			let anual = (precioPorContactos * cotizacionDolar) * 12;
			let PorcentajeAnualDescuento = anual * 0.25;
			let anualConDescuento = anual - PorcentajeAnualDescuento;

			document.getElementById("trimestreResult").innerHTML = trimestral;
			document.getElementById("semestralResult").innerHTML = semestral;
			document.getElementById("anualResult").innerHTML = anual +  " con el 25% OFF quedaria: " + anualConDescuento;

		}

		// SETEO POR DEFECTO
		const valorInicialCantContactos = parseInt(200);
		document.getElementById("resultRango").innerHTML = valorInicialCantContactos;
		document.getElementById("planPremium").style.color = "red";



		function contadorDeContactos(){
			let cantidadDeContactos = document.getElementById("cantidadDeContactos").value; //Valur del rango actual
			document.getElementById("resultRango").innerHTML = cantidadDeContactos;
		}
	</script>

	<!--#region Bootstrap Script  -->
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
	<!--#endregion -->
</body>

</html>